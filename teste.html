<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Documento</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="flex flex-col items-center justify-center min-h-screen bg-gray-100"
  >
    <h1 class="text-3xl m-4">Teste de soma</h1>
    <input
      class="border-black border rounded-lg h-12 p-4 m-2"
      id="num1"
      type="number"
      placeholder="Número A"
    />

    <h2>testando prettier</h2>
    <p>lalala</p>

    <input
      class="border-black border rounded-lg h-12 p-4 m-2"
      id="num2"
      type="number"
      placeholder="Número B"
    />
    <button
      class="h-12 bg-blue-500 w-52 m-2 text-center rounded-xl text-white text-shadow-xs shadow-lg"
      onclick="calcularSoma()"
    >
      Calcular Soma
    </button>
    <p id="resultado"></p>

    <script>
      async function calcularSoma() {
        const num1 = document.getElementById("num1");
        const num2 = document.getElementById("num2");
        const resultado = document.getElementById("resultado");

        if (!num1.value || !num2.value) {
          resultado.innerText = "Por favor, preencha ambos os números!";
          return;
        }

        try {
          const response = await fetch("http://localhost:3000/soma", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              a: Number(num1.value),
              b: Number(num2.value),
            }),
          });

          if (!response.ok) {
            throw new Error(`Erro HTTP: ${response.status}`);
          }

          const data = await response.json();
          resultado.innerText = `Resultado: ${data.resultado}`;
        } catch (error) {
          console.error("Erro na requisição:", error);
          resultado.innerText =
            "Erro ao calcular. Verifique o console para detalhes.";
        }
      }
    </script>
  </body>
</html>
